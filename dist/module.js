!function(){var util,path,os,fse,objAssign,insp,obtain,isSolidString,isPlainObject,parseDate,hasIn,unset,cloneDeep,_defaultDir,_portableDir,_userProfileDir,_loadSettingsFile;function _saveSettingsFile(filePath,storeObj,options){var indent=hasIn(options,"indent")?options.indent:2;null!==indent&&indent!==undefined||(indent=2);try{fse.ensureDirSync(path.dirname(filePath)),fse.writeJsonSync(filePath,storeObj,objAssign({},options,{indent:indent}))}catch(e){throw new Error(insp(e)+'\n  at _saveSettingsFile (WshConfigStore/ConfigStore.js)\n  filePath: "'+filePath+'"')}}Wsh&&Wsh.ConfigStore||(Wsh.ConfigStore={},util=Wsh.Util,path=Wsh.Path,os=Wsh.OS,fse=Wsh.FileSystemExtra,objAssign=Object.assign,insp=util.inspect,obtain=util.obtainPropVal,isSolidString=util.isSolidString,isPlainObject=util.isPlainObject,parseDate=util.parseDateLiteral,hasIn=util.hasIn,unset=util.unset,cloneDeep=util.cloneDeep,_defaultDir=path.resolve(process.cwd(),".wsh"),_portableDir=path.resolve(__dirname,".wsh"),_userProfileDir=path.join(os.homedir(),".wsh"),_loadSettingsFile=function(filePath,options){try{return fse.readJsonSync(filePath,options)}catch(e){options=insp(e);if(/no such file or directory/i.test(options))return{};throw/SyntaxError/i.test(options)?new Error(insp(e)+'\n  at _loadSettingsFile (WshConfigStore/ConfigStore.js)\n  Check syntax of the file "'+filePath+'"'):e}},Wsh.ConfigStore=function(fileName,options){this.path=function(fileName,dirPath){var confFileName="settings.json",fileName=(isSolidString(fileName)&&(confFileName=fileName),/\.json$/i.test(confFileName)||(confFileName+=".json"),confFileName=parseDate(confFileName),_defaultDir);return isSolidString(dirPath)&&(fileName=/^cwd$/i.test(dirPath)?_defaultDir:/^portable$/i.test(dirPath)?_portableDir:/^userProfile$/i.test(dirPath)?_userProfileDir:path.isAbsolute(dirPath)?parseDate(path.normalize(dirPath)):parseDate(path.resolve(path.join(__dirname,dirPath)))),path.resolve(path.join(fileName,confFileName))}(fileName,obtain(options,"dirPath",_defaultDir));var __fileOptions=obtain(options,"fileOptions",null);this.store=_loadSettingsFile(this.path,__fileOptions),this.set=function(keyOrObj,value){isPlainObject(keyOrObj)?this.store=cloneDeep(keyOrObj):util.set(this.store,keyOrObj,value),_saveSettingsFile(this.path,this.store,__fileOptions)},this.has=function(propPath){return hasIn(this.store,propPath)},this.get=function(propPath,defaultValue){return util.get(this.store,propPath,defaultValue)},this.del=function(propPath){return unset(this.store,propPath)},this.clear=function(){this.store={}}})}();
